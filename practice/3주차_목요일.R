#?슂?씤(factor)
#?깮?꽦諛⑸쾿 : 蹂?닔紐? = factor(?옄猷?, levels, order = T or F)
#levels = 臾몄옄?삎 踰≫꽣濡? ?깮?꽦?븷 ?븣 level 諛? ?닚?꽌 紐낆떆, ?깮?왂?븯硫? ?븣?뙆踰녹닚?꽌濡? ?옄?룞?븷?떦 
#order = T : ?닚?꽌?삎, order = F : 紐낅ぉ?삎
grade =list("A","A","B","C","B","B")
f.grade = factor(grade)
f.grade
as.character(f.grade)
as.numeric(f.grade)

#?닚?꽌?삎 ?옄猷뚯뿉 ???븳 ?슂?씤 ?깮?꽦
grade
f2.grade=factor(grade,order=T)
grade1 = c("1000","30","5","100","20","65")
f1.grade = factor(grade1, order=T)
f1.grade = factor(grade1, order=F)
f1.grade
#?썝?븯?뒗 ?닚?꽌瑜? ?굹???궡湲? ?쐞?빐 ?옉?? 媛? ?닚?꽌濡? levels?뿉 ?젙?쓽
lev = c("C","B","A")
f3.grade=factor(grade,levels=lev, order=T)
f3.grade
as.numeric(f3.grade) #3 3 2 1 2 2 

#?슂?씤?쓽 ?닔以?쓣 ?솗?씤?븯?뒗 ?븿?닔 : levels()
levels(f2.grade)
levels(f3.grade) #?닚?꽌?뿉 ???븳 ?젙蹂대뒗 ?뾾?떎.

#?뜲?씠?꽣?봽?젅?엫(data.frame)
#R?뿉?꽌 ?쇅遺 ?옄猷? ?엯?젰 ?떆 湲곕낯?쟻?쑝濡? ?쟻?슜?릺?뒗 媛앹껜濡? 由ъ뒪?듃 媛앹껜?쓽 ?듅蹂꾪븳 ?삎?깭(由ъ뒪?듃?? ?뻾?젹?쓽 ?듅?꽦?쓣 吏?땲?뒗 媛앹껜)
#援ъ“?뒗 ?뻾?젹怨? ?룞?씪, ?궡遺?쟻?쑝濡쒕뒗 媛? ?뿴?뿉 ?뵲?씪?꽌 媛곴컖 ?떎瑜? ?쑀?삎?쓽 ?옄猷뚮?? 援ъ꽦?븷 ?닔 ?엳?떎.(1?뿴 : ?씠由?, 2?뿴 : ?굹?씠 ?벑?벑)
#?뻾?젹怨? ?룞?씪?븳 援ъ“濡? 媛? 蹂?닔?쓽 湲몄씠?뒗 紐⑤몢 ?룞?씪?빐?빞?븳?떎 
#?씠由? = data.frame(蹂?닔紐?1=蹂?닔1, 蹂?닔紐?2, 蹂?닔, ...) #蹂?닔紐낆쓣 ?깮?왂?븯硫? 蹂?닔媛 蹂?닔紐낆씠 ?맖
x1 = 1:4; x2 = c("Kim","Lee","Jung","Park")
dat = data.frame(x1,x2)
dat
data2 = data.frame(num=x1, name=x2)
data2

#蹂?닔紐낆쓣 ?꽕?젙?븳 寃쎌슦?쓽 ?씤?뜳?떛 諛⑸쾿 : ?뜲?씠?꽣?봽?젅?엫$蹂?닔紐?
dat2$num
dat2$name #臾몄옄?삎 蹂?닔?뒗 4.0 踰꾩쟾?씠?썑 臾몄옄濡? ?쑀吏媛 湲곕낯 ?꽕?젙
#stringsAsFactors = T瑜? ?씠?슜?븯硫? factor 蹂?솚 媛?뒫
dat3 = data.frame(x1,x2,stringsAsFactors = T)
dat3
dat3[,2]
dat2[,2]
#蹂?닔紐낆씠 ?뾾?뒗 寃쎌슦 諛? ?씪諛섏쟻?씤 ?씤?뜳?떛 諛⑸쾿 : ?뻾?젹?쓽 ?씤?뜳?뒪 ?삎?깭?쓽 ?궗?슜
dat
dat[,1]; dat[,2]
dat[1,]; dat[2,]
dat[2,1]; dat[3,2]
dat3[3,2] #level?룄 媛숈씠 異쒕젰 
#蹂?닔紐낆씠 ?뾾?뒗 寃쎌슦 諛? ?씪諛섏쟻?씤 ?씤?뜳?떛 諛⑸쾿 : 由ъ뒪?듃?쓽 ?씤?뜳?뒪 ?삎?깭?쓽 ?궗?슜
dat[1]; dat[2]
dat[[1]]
dat[[1]][2]
#?뿬?윭 蹂?닔 ?꽑?깮 諛? ?옄猷? ?꽑?깮(?뻾?젹怨? ?룞?씪)
dat[,1:2]
dat[,-1]
dat[-1,-2]
dat[-1,c(1,2)]

#諛곗뿴(array)
#2李⑥썝 ?씠?긽?쓽 援ъ“瑜? ?굹???궪 ?븣 ?벐?씠?뒗 媛앹껜濡? ?뻾?젹怨? ?쑀?궗?븯?뿬 ?븯?굹?쓽 諛곗뿴?뿉?뒗 ?븯?굹?쓽 媛믪쓽 type留? 媛?뒫
#蹂?닔紐? = array(?옄猷뚮깹?꽣, dim=李⑥썝?쓽 ?젙?쓽)
x1 = array(1:24, dim=c(4,3,2)); x1
x2 = array(1:24, dim=c(2,2,4,2)); x2
#?씤?뜳?떛 諛⑸쾿 : ?뻾?젹怨? ?룞?씪?븳 諛⑸쾿?쑝濡? 李⑥썝?쓣 援щ텇?븯?뿬 ?꽑?깮
x1[,,1] #4x3 ?뻾?젹
x2[,,3,1] #2x2 ?뻾?젹

#媛앹껜 ?궗?씠?쓽 蹂?솚
#?닔移섑삎 踰≫꽣 - ?닔移섑삎 ?뻾?젹
x = 1:25; x
x_mat = matrix(x, nrow=5, ncol=5); x_mat #5x5
x_mat = as.matrix(x); x_mat #25x1
x_num = as.vector(x_mat) ; x_num
#?뜲?씠?꽣 ?봽?젅?엫 - ?뻾?젹
#?뜲?씠?꽣 ?봽?젅?엫?씠 臾몄옄?삎 ?옄猷뚮?? ?룷?븿?븳 寃쎌슦, ?뻾?젹 蹂?솚?떆 ?뻾?젹?쓽 ?썝?냼?뒗 紐⑤몢 臾몄옄?삎 ?옄猷뚮줈 蹂?솚
#?뜲?씠?꽣 ?봽?젅?엫-?뻾?젹
d = data.frame(a=1:10,b=rep("A",10),c=rep(T,10))
d
d$b
is.character(d$b)
m1 = as.matrix(d); m1 #臾몄옄
m2 = as.matrix(d[,1]); m2 #?닔移?
m3 = as.matrix(d[,c(1,3)]); m3 #?닔移?
m3[,1]
m4 = as.matrix(d[,2:3]); m4 #臾몄옄
d1 = as.data.frame(m1, stringsAsFactors=T); d1
d1
d1[1]
d1[,1]
d1[,2]
d2 = as.data.frame(m2, stringsAsFactors=F); d2
d3 = as.data.frame(m3, stringsAsFactors=F); d3
d4 = as.data.frame(m4, stringsAsFactors=F); d4
d1[,2]
d4[,1]
#stringsAsFactors=F瑜? ?궗?슜?븯湲? 踰덇굅濡쒖슱 ?뻹, options(stringsAsFactors=F)濡? ?꽕?젙 媛?뒫

#?끉由ш컪?쓣 ?씠?슜?븳 ?씤?뜳?뒪?쓽 ?쓳?슜
#?씤?뜳?뒪?뿉 ?끉由ш컪?쓣 ?씠?슜?븯?뿬 ?꽑?깮 : 蹂?닔[?끉由ш컪]
#Sum all values greater than 12 in a vector x
x = 1:100
sum1 = sum(x[13:100])
sum1 
x = c(1:5, 10:20, 30:45, 2:5, 11:30)
x>12
sum(x>12)
sum2 = sum(x[x>12]) ; sum2
#sum all values betwwen 10 and 20
sum3 = sum(x[x>10&x<20]); sum3
x = c(1,11,5,4)
x
x[x>10]=5; x

#?닔?뿴?쓣 ?씠?슜?븳 ?씤?뜳?뒪?쓽 ?쓳?슜
#?씤?뜳?뒪?뿉 ?닔?뿴?쓣 ?씠?슜?븯?뿬 ?꽑?깮 : 蹂?닔[?닔?뿴]
#select elements at even positions in x 
x=1:100; x
x[seq(2,100,2)]
x[seq(2,100,by = 2)]
#select column 1,3,5 in x_mat
x_mat = matrix(x,20,5); x_mat
x_mat[,c(1,3,5)] 
x_mat[,seq(1,5,2)]
#select rows 2,4 in x_mat
x_mat[c(2,4),]
x_mat[seq(2,4,2),]
#For matrix, (i,j)th element of A = A[i,j]

#?뻾?젹?쓽 ?뻾 or ?뿴 湲곗??쑝濡? R?븿?닔?쓽 ?쟻?슜
#apply(?뻾?젹,1(=row)/2(=column),?븿?닔 ?씠由?, 異붽??씤?닔?뱾)
x_mat = matrix(rnorm(100),20,5); x_mat
#rnorm(n,mean,sd) : n媛쒖쓽 ?궃?닔 ?깮?꽦 (mean,sd ?깮?왂?떆 ?젙洹쒕텇?룷 ?깮?꽦)
#Calculate mean values of each columns
apply(x_mat, 2, mean)
#Calculate mean values of each rows
apply(x_mat, 1, sum)
#Calculate variance values of each columns
apply(x_mat,2,var)
#Calculate variance values of each rows
apply(x_mat,1,var)

A = matrix(1:8,4,2); A

sum(A[,1])
sum(A[,2])

k = vector()
for (i in 1:2)
  k[i] = sum(A[,i])
k

apply(A,2,sum)


#1
x = seq(-10,10,length=30)
x

#2
y = rep(c("S","T","A",'T',"S"),times=6)
y

#3
z = rep(c(0,7),each=15)
zm = as.logical(z)
zm

#4
xmat = matrix(x,6,5,byrow = T)
xmat

#5
xdat = data.frame(x,y,z,zm)
xdat

#6
xlst = list(x,y,zm,xdat)
xlst

#7
tmp_ = xdat[,c(1,2)]
as.matrix(tmp_)

#8
as.matrix(xdat[,c(1,3)])

#9
sum(x[x>-2&x<4])

#10
xmat
apply(xmat,1,sum)
apply(xmat,2,mean)
apply(xmat,2,var)
